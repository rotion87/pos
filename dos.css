
:root{
  --bg:#001080;
  --text:#ffff55;
  --panel:#000060;
  --panel2:#000044;
  --border:#cccc33;
  --border2:#999922;
}
*{box-sizing:border-box}
html,body{height:100%}
body{margin:0;background:var(--bg);color:var(--text);font-family:monospace}

.topbar{
  display:flex;justify-content:space-between;align-items:center;
  padding:6px 10px;background:#000066;border-bottom:2px solid var(--border);
  position:sticky; top:0; z-index:10;
}
.clock{font-weight:bold}
.stats{font-size:14px;opacity:.95}

.wrap{padding:10px}

.page{display:none}
.page.active{display:block}

.sum-bar{
  font-size:36px;font-weight:bold;text-align:center;
  background:#000066;color:var(--text);
  border:3px solid #fff;
  padding:12px;margin:-10px -10px 12px -10px;
  letter-spacing:2px; box-shadow:0 0 12px #000 inset;
}

.bar{display:flex;gap:8px;align-items:center;justify-content:flex-end;margin-top:8px}
.actions{border-top:2px solid var(--border2); padding-top:8px}

button{
  cursor:pointer;
  border:1px solid var(--border);
  background:#000066;
  color:var(--text);
  padding:8px 12px; border-radius:4px;
  font-family:monospace;
}
button.primary{background:#3333aa;border-color:#ffff88;color:#ffff88}
button:active{transform:translateY(1px)}

.prod-list{list-style:none;margin:0;padding:0;display:flex;flex-direction:column;gap:0}
.row.prod{
  display:grid;
  grid-template-columns: 1fr 100px 160px;
  gap:10px; align-items:center;
  background:var(--panel2);
  border-left:2px solid #fff;border-right:2px solid #fff;
  border-bottom:1px solid #cc6633; /* 橘紅分隔線 */
  padding:8px;
}
.prod-list .row.prod:first-child{border-top:2px solid #fff}
.p-name{overflow:hidden;white-space:nowrap;text-overflow:ellipsis}
.p-price{justify-self:end}
.qty{display:flex;gap:8px;align-items:center;justify-content:flex-end}
.qty .q{min-width:28px;text-align:center}
.qty button{width:44px;height:38px}

.pay-box{border:2px solid #fff;background:var(--panel2);padding:10px;border-radius:6px}
#cash-input{width:100%;padding:10px;font-size:22px;border:2px solid var(--border);background:#000030;color:var(--text);border-radius:4px;margin:6px 0}
.quick{display:flex;gap:6px;flex-wrap:wrap}

.dos-frame{border:3px solid var(--border);background:var(--panel2);padding:10px;box-shadow:inset 0 0 8px #000a}
.dos-inner{border:2px solid var(--border2);padding:12px 16px;background:var(--panel);font-size:22px;line-height:1.7}
.dos-frame.tight{max-width:520px;margin:6px auto}
.row{display:flex;gap:8px}

.result.hidden{display:none}

/* Modal (Receipt) */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,.6);z-index:50}
.modal.hidden{display:none}
.modal-box{background:var(--panel2);border:3px solid var(--border);padding:12px 14px;min-width:320px;max-width:640px}
.modal-title{margin-bottom:8px}
.modal-actions{display:flex;gap:8px;justify-content:flex-end;margin-top:10px}
#receipt-list{list-style:none;margin:0 0 8px 0;padding:0}
#receipt-list li{padding:4px 0;border-bottom:1px solid #333}
.receipt-total{margin-top:6px}

/* Toast */
.toast{
  position:fixed; left:50%; top:50%; transform:translate(-50%,-50%);
  background:#000; border:2px solid var(--border);
  padding:10px 16px; border-radius:6px;
  color:var(--text); opacity:0; pointer-events:none; transition:.2s; z-index:60;
}
.toast.show{opacity:1}

/* CRT scanlines */
body::before{
  content:"";position:fixed;inset:0;pointer-events:none;
  background:repeating-linear-gradient(rgba(255,255,255,.05) 0, rgba(0,0,0,.05) 2px);
  mix-blend-mode:overlay;animation:flicker 1.8s infinite;
}
@keyframes flicker{0%,19%,21%,23%,25%,54%,56%,100%{opacity:1}20%,24%,55%{opacity:.9}}

@media (max-width: 680px){
  .sum-bar{font-size:30px}
  .row.prod{grid-template-columns:1fr 90px 150px}
}
